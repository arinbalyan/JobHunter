# ============================================================================
# JOBHUNTER CONFIGURATION
# Copy this to .env and fill in your values
# ============================================================================

# --- SMTP (Gmail) ---
# Create an App Password: https://myaccount.google.com/apppasswords
GMAIL_EMAIL=your-email@gmail.com
GMAIL_APP_PASSWORD=your-app-password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# --- LLM (OpenRouter) ---
# Get your API key: https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key
LLM_BASE_URL=https://openrouter.ai/api/v1
LLM_MODEL=qwen/qwen3-next-80b-a3b-instruct:free
EMAIL_GENERATOR_MODE=llm  # llm | fallback

# --- Contact Info (used in email footer + fallback template) ---
CONTACT_NAME=Your Name
CONTACT_EMAIL=your-email@gmail.com
CONTACT_PHONE=+1-234-567-8901
CONTACT_PORTFOLIO=https://your-portfolio.com
CONTACT_GITHUB=https://github.com/yourusername
CONTACT_LINKEDIN=https://linkedin.com/in/yourusername
CONTACT_CODOLIO=
RESUME_DRIVE_LINK=https://drive.google.com/your-resume-link

# --- Context & Resume ---
# Path to your applicant profile (used by LLM for email generation)
CONTEXT_FILE_PATH=contexts/profile.md
# Path to your resume PDF (attached to outgoing emails)
RESUME_FILE_PATH=resume.pdf

# For GitHub Actions: These files cannot be committed to git.
# Instead, base64-encode them and store as repository secrets:
#   RESUME_BASE64    — base64 -w0 YourResume.pdf | clip
#   CONTEXT_BASE64   — base64 -w0 contexts/profile.md | clip
# The workflows will decode them to disk at runtime.

# ===========================================================================
# STORAGE BACKEND
# ===========================================================================
# Options: "sheets" (Google Sheets) or "csv" (local CSV files)
# Google Sheets is recommended — data persists across CI/CD runs & devices.
STORAGE_BACKEND=sheets

# --- Google Sheets Setup (when STORAGE_BACKEND=sheets) ---
#
# STEP 1: Create a Google Cloud Project
#   1. Go to https://console.cloud.google.com/
#   2. Click "Select a project" → "New Project" → name it (e.g. "JobSpy")
#   3. Click "Create"
#
# STEP 2: Enable the Google Sheets API
#   1. In your project, go to "APIs & Services" → "Library"
#   2. Search for "Google Sheets API" → click "Enable"
#   3. Also search for "Google Drive API" → click "Enable"
#
# STEP 3: Create a Service Account
#   1. Go to "APIs & Services" → "Credentials"
#   2. Click "Create Credentials" → "Service account"
#   3. Name it (e.g. "jobspy-bot"), click "Create and Continue"
#   4. Skip optional role/access steps → click "Done"
#   5. Click on your new service account → "Keys" tab
#   6. "Add Key" → "Create new key" → JSON → "Create"
#   7. A JSON file downloads — this is your credentials file
#
# STEP 4: Base64-encode the credentials JSON
#   Run this command to convert the downloaded JSON to base64:
#     Linux/Mac: base64 -w 0 < your-credentials.json
#     Windows:   certutil -encode your-credentials.json temp.b64 && type temp.b64
#   Copy the output (one long string) into GOOGLE_CREDENTIALS_JSON below.
#
# STEP 5: Share the spreadsheet with the service account
#   1. Create a Google Sheet (or let the app create one automatically)
#   2. Share it with the service account email (found in the JSON file,
#      looks like: jobspy-bot@your-project.iam.gserviceaccount.com)
#   3. Give it "Editor" access
#
# STEP 6: Set GOOGLE_SHEET_NAME to match your spreadsheet's title
#
GOOGLE_CREDENTIALS_JSON=
GOOGLE_SHEET_NAME=JobSpy Data

# --- CSV Fallback (when STORAGE_BACKEND=csv) ---
CSV_FILE_PATH=sent_emails.csv

# --- Report ---
# Email address to receive end-of-run reports
REPORT_EMAIL=your-email@gmail.com

# --- Proxy ---
# Comma-separated proxy list (helps avoid LinkedIn rate limiting)
PROXY_LIST=

# --- General ---
SKIP_WEEKENDS=true
DRY_RUN=false
LOG_LEVEL=INFO

# --- Email Settings ---
MIN_EMAIL_WORDS=120
MAX_EMAIL_WORDS=300
# Seconds between each email sent (avoid spam triggers)
EMAIL_INTERVAL_SECONDS=30
APPLICATION_SENDER_NAME=Your Name

# --- Fallback Email Template ---
# Used when EMAIL_GENERATOR_MODE=fallback or when LLM generation fails.
# Supports placeholders: {contact_name}, {contact_phone}, {contact_portfolio},
# {contact_github}, {contact_codolio}, {contact_linkedin}, {resume_drive_link}
# Use real newlines — wrap the value in double quotes for multi-line.
FALLBACK_EMAIL_SUBJECT=Software Engineer - Exploring Opportunities
FALLBACK_EMAIL_BODY="I came across your company and wanted to reach out regarding potential opportunities.

I'm {contact_name}, a developer with hands-on experience building production systems. I'd welcome the chance to discuss how my background aligns with your team's needs.

Best regards,
{contact_name}
{contact_phone}
Portfolio: {contact_portfolio}
GitHub: {contact_github}"

# --- Job Filter ---
# Comma-separated title patterns to reject (empty = use built-in defaults)
# Built-in defaults filter: teacher, nurse, cashier, driver, chef, etc. (37 patterns)
REJECT_TITLES=
# Comma-separated email filter patterns (prefix with starts_with: or contains:)
EMAIL_FILTER_PATTERNS=starts_with:accommodation@,contains:accessibility,contains:no-reply,contains:noreply,contains:do-not-reply

# --- Scheduler / Deployment ---
# Set SCHEDULER_ENABLED=true for long-lived server mode (Render/Railway/Fly.io)
# Set SCHEDULER_ENABLED=false for run-once mode (GitHub Actions / local cron)
SCHEDULER_ENABLED=false
SCHEDULER_ONSITE_CRON=30 2 * * *
SCHEDULER_REMOTE_CRON=0 13 * * *
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=10000
HEALTH_CHECK_PATH=/health

# --- Onsite Settings ---
ONSITE_SEARCH_TERMS=machine learning,data science,backend developer
ONSITE_LOCATIONS=Bengaluru,Hyderabad,Pune
ONSITE_JOB_TYPE=fulltime
ONSITE_JOB_BOARDS=indeed,glassdoor,linkedin
ONSITE_COUNTRY_INDEED=India
ONSITE_RESULTS_WANTED=1000
ONSITE_MAX_EMAILS_PER_DAY=100

# --- Remote Settings ---
REMOTE_SEARCH_TERMS=machine learning,data science,backend developer
REMOTE_LOCATION=Remote
REMOTE_IS_REMOTE=true
REMOTE_JOB_TYPE=fulltime
REMOTE_JOB_BOARDS=indeed,linkedin,glassdoor,zip_recruiter,google
REMOTE_COUNTRY_INDEED=USA
REMOTE_RESULTS_WANTED=1000
REMOTE_MAX_EMAILS_PER_DAY=80
